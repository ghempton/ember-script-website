<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta charset='utf-8' />
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible' />
    <title>EmberScript: Ember.js-Infused CoffeeScript</title>
    <link href='/images/favicon.png' rel='icon' />
    <link href='/images/favicon@2x.png' rel='icon' sizes='32x32' />
    <link href="/stylesheets/all.css" media="screen" rel="stylesheet" type="text/css" />
    <script type='text/javascript'>
      //<![CDATA[
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-37615379-1']);
        _gaq.push(['_trackPageview']);
        
        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
      //]]>
    </script>
  </head>
  <body class='index'>
    <div class='main'>
      <h1>EmberScript</h1>

<h2>Ember.js-Infused CoffeeScript</h2>

<p>EmberScript is a <a href="http://coffeescript.org/">CoffeeScript</a> derived language that has first-class support for the <a href="http://emberjs.com/">Ember.js</a> runtime. It also has all of the syntactical goodness of the original Coffeescript, compiles directly into JavaScript, and can be used outside of Ember applications!</p>

<figure class="example main">
<pre class="emberscript">class PostsController extends Ember.ArrayController

  trimmedPosts: ~>
    @content?.slice(0, 3)

  +observer content.@each
  postsChanged: ->
    console.log('changed')</pre>
<pre class="javascript"></pre>
</figure>

<p><em>EmberScript on the left, JavaScript on the right. All examples are editable!</em></p>

<h3>Getting Started</h3>

<h4>Ruby on Rails</h4>

<p>If you are using Rails as your backend, simply add the following to your Gemfile:</p>

<pre><code>gem &#39;ember_script-rails&#39;
</code></pre>

<p>All assets ending in <code>.em</code> will be compiled by EmberScript.</p>

<h4>Npm</h4>

<pre><code>sudo npm install -g &#39;git://github.com/ghempton/ember-script.git#HEAD&#39;
ember-script --help
</code></pre>

<h3>Language Reference</h3>

<p>EmberScript shares much of its syntax with CoffeeScript. For basic CoffeeScript syntax, please consult the <a href="http://coffeescript.org/">CoffeeScript reference</a></p>

<h4>Object Model</h4>

<p>EmberScript replaces the CoffeeScript <code>class</code> and <code>extends</code> keyword with the equivalent from Ember&#39;s <a href="http://emberjs.com/guides/object-model/classes-and-instances/">object model</a>. The <code>mixin</code> keyword is also introduced:</p>

<figure class="example object_model">
<pre class="emberscript">mixin CanFly
  fly: -> console.log('flying')

class Animal

class Bird extends Animal with CanFly

  fly: ->
    super()
    console.log('flap wings')</pre>
<pre class="javascript"></pre>
</figure>

<h4>Computed Properties and Observers</h4>

<p>An annotation based syntax is used to declare computed properties and observers:</p>

<figure class="example properties">
<pre class="emberscript">class Person

  +computed firstName, lastName
  initials: -> "#{@firstName.split('')[0]}, #{@lastName.split('')[0]}"

  +observer name
  nameChanged: -> console.log("new name: #{@name}")

  +volatile
  favoriteNumber: -> Math.round(Math.random() * 10)</pre>
<pre class="javascript"></pre>
</figure>

<h4>Dependency Inference</h4>

<p>Dependencies of computed properties can be inferred at compile time. This includes enumerables and complex statements. The <code>~&gt;</code> operator defines computed properties with deferred dependencies:</p>

<figure class="example inference">
<pre class="emberscript">class Person

  name: ~> "#{@firstName} #{@lastName}"

  postsDisplay: ~>
    if @posts.length > 0
      "#{@posts.length} Posts"
    else
      "No Posts"

  something: ~>
    x = @x
    y = x.y
    y.z</pre>
<pre class="javascript"></pre>
</figure>

<h4>Properties and Accessors</h4>

<p>By default, all property accesses are deferred to Ember&#39;s <code>get</code> and <code>set</code> methods. To use normal javascript property access, use the <code>*.</code> operator:</p>

<figure class="example accessors">
<pre class="emberscript">person.firstName
person.address.city
person.address?.city

person.firstName = "Wes"
person.address.city = "San Diego"

@person.firstName
@person.firstName = "Andrew"

person*.firstName
person*.firstName = "Manuel"</pre>
<pre class="javascript"></pre>
</figure>

<h3>Who&#39;s Using EmberScript?</h3>

<div class="users">
<a href="https://grouptalent.com" title="Freelance until you find the perfect job." class="user"><img src="/images/grouptalent.png" /></a>
</div>
    </div>
    <a href="https://github.com/ghempton/ember-script"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
    <script src="/javascripts/vendor/ace/ace.js" type="text/javascript"></script>
    <script src="/javascripts/all.js" type="text/javascript"></script>
    <div class='footer'>
      Design and Development by
      <a href="http://codebrief.com">Gordon L. Hempton</a>
      &copy; 2013
    </div>
  </body>
</html>
